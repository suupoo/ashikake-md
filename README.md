# ashikake MD（あしかけ MD）

マークダウン形式でさまざまなドキュメントを作成・編集・表示できるWebアプリケーションです。完全にクライアントサイドで動作し、データはローカルストレージに保存されるため、プライバシーを保護しながらドキュメントを作成できます。

**「ashikake（あしかけ）」** は、ドキュメント作成の「足がかり」となるツールという意味を込めた名前です。

## 主な機能

- ** マークダウンエディター**: 入力内容をリアルタイムでプレビュー表示
- ** 自動保存**: 入力内容を自動的にブラウザに保存（サーバーには送信されません）
- ** 複数ファイル管理**: 複数のドキュメントを同時に作成・管理
- ** 印刷・PDF出力**: ブラウザの印刷機能を使ってPDF出力
- ** 図表作成**: Mermaidでフローチャートやタイムラインを作成
- ** 改ページ制御**: 印刷時の改ページ位置を指定
- ** フォント選択**: 見やすいカード形式でフォントを選択
- **⚙️ 詳細設定**: フォントサイズ・行間・余白を細かく調整
- ** タブインデント**: TabキーとShift+Tabでインデント操作
- ** ヘルプ機能**: 右上のヘルプボタンで使い方を確認
- ** 設定の一元管理**: すべての設定を一つの画面で管理
- ** レスポンシブデザイン**: PC・タブレット・スマートフォンに対応
- ** 最適化されたUI**: デバイスに合わせて操作方法を最適化
- ** セキュリティ**: XSS攻撃などのセキュリティ対策を実装

## 使い方

### 基本的な使い方

1. **アプリを開く**
   - ブラウザで `index.html` を開きます
   - インターネット接続が必要です（外部ライブラリを使用）

2. **ドキュメントを作成する**
   - **PC版**: 左側のエディターにマークダウンで記入すると、右側にプレビューが表示されます
   - **スマホ版**: エディターで記入後、下部の「プレビュー」ボタンで表示を確認できます
   - 入力内容は自動的にブラウザに保存されます

3. **複数のファイルを管理する**
   - **PC版**: 上部のタブで複数ファイルを管理し、「＋」ボタンで新規作成できます
   - **スマホ版**: ハンバーガーメニュー（≡）からファイル一覧を表示し、切り替えや新規作成ができます

4. **PDF出力する**
   - 「印刷」ボタンをクリックします
   - ブラウザの印刷ダイアログが開きます
   - 「送信先」で「PDFに保存」を選択します

### マークダウン記法

#### 基本的な記法
```markdown
# 見出し1
## 見出し2
### 見出し3

**太字**
*斜体*

- リスト項目1
- リスト項目2
  - ネストしたリスト

1. 番号付きリスト
2. 番号付きリスト

> 引用文

`インラインコード`
```

#### テーブル作成
```markdown
| 技術 | 経験年数 | レベル |
|------|---------|--------|
| JavaScript | 3年 | 上級 |
| React | 2年 | 中級 |
| Node.js | 1年 | 初級 |
```

#### 図表作成（Mermaid）
エスケープの都合上、@を説明用に追加しています。
エディターで表示する場合には取り除いてください。
```markdown
@```mermaid
timeline
    title プロジェクト進行
    section フェーズ１
        2022-11 : 要件定義開始
        2023-02 : フェーズ１完了
    section フェーズ２
        2023-03 : 設計開始
        2024-03 : 本番稼働
@```
```

#### テキスト配置
HTMLのdivタグとCSSクラスを使用してテキストの配置を制御できます：

```markdown
<!-- 左寄せ（デフォルト） -->
<div class="text-left">
左寄せのテキストです。
</div>

<!-- センタリング -->
<div class="text-center">
センタリングされたテキストです。
</div>

<!-- 右寄せ -->
<div class="text-right">
右寄せのテキストです。
</div>

<!-- 両端揃え -->
<div class="text-justify">
両端揃えのテキストです。長い文章の場合に有効で、行の両端が揃えられます。
</div>
```

### 詳しい機能説明

#### 1. 複数ファイル管理
複数のドキュメントを同時に作成・管理できます。
- **PC版での操作**: 
  - 上部のタブでファイルを切り替え
  - 「＋」ボタンで新しいファイルを作成
  - ファイル名をダブルクリックで名前変更
  - ×ボタンでファイル削除
- **スマホ版での操作**:
  - ハンバーガーメニュー（≡）でファイル一覧を表示
  - 「新規ファイル」ボタンで新しいファイルを作成
  - ファイル名をタップして切り替え
- **データ保存**: 各ファイルの内容を個別に自動保存

#### 2. デバイスに合わせたデザイン
PCとスマホで使いやすい画面レイアウトを提供します。
- **PC版**: 
  - 左右分割でエディターとプレビューを同時表示
  - 上部にファイルタブを配置
  - ヘッダー右上にヘルプボタン
- **スマホ版**:
  - 1つの画面でエディターとプレビューを切り替え
  - エディター下部にボタンを配置
  - ハンバーガーメニューでファイル操作
  - 自然なスクロール（固定配置を使用しない）

#### 3. 自動保存
入力した内容を自動的にブラウザに保存します。
- **保存タイミング**: 入力後1秒で自動保存
- **保存場所**: ブラウザのローカルストレージ
- **保存状態**: 右上に「自動保存済み」と表示
- **データ復元**: ページを再読み込みしても内容が復元されます

#### 4. 改ページ機能
印刷時の改ページ位置を指定できます。
- **使用方法**: 「改ページ挿入」ボタンをクリック
- **マークダウン**: `---` が挿入されます
- **プレビュー**: 点線で改ページ位置を表示
- **印刷時**: 実際の改ページとして機能

#### 5. フォント選択
見やすいカード形式でフォントを選択できます。
- **Noto Sans JP**: 日本語に最適化された読みやすいフォント
- **Inter**: モダンでクリーンな欧文フォント
- **システムフォント**: OSデフォルトの高速フォント
- **プレビュー機能**: 各フォントの実際の見た目を確認
- **簡単選択**: カードをクリックするだけで選択完了
- **設定保存**: 選択したフォントは自動保存

#### 6. 詳細設定
「設定」ボタンから以下の項目を調整できます：
- **見出し1-3のフォントサイズ**: ピクセル単位で細かく調整
- **行間**: 1.2〜2.0の範囲で調整
- **見出し2の上下余白**: 印刷時のスペース調整
- **リスト項目間隔**: 箇条書きの間隔調整
- **フォント選択**: カード形式で選択
- **リアルタイム反映**: 変更が即座にプレビューに適用
- **設定保存**: 調整した設定はブラウザに保存
- **デフォルト復元**: ワンクリックで初期設定に戻す

#### 7. タブインデント機能
Tabキーを使って簡単にインデントできます。
- **Tab**: 4つのスペースを挿入
- **Shift + Tab**: 行頭から最大4つのスペースを削除
- **リアルタイム反映**: エディター入力時に即座に反映

#### 8. ヘルプ機能
使い方を確認できるヘルプ機能を提供します。
- **配置**: ヘッダー右上に配置
- **デザイン**: 「？」アイコンで統一
- **対応デバイス**: PC版・スマホ版で共通のヘルプボタン
- **アクセス**: ボタンをクリックして即座にヘルプを表示
- **内容**: マークダウン記法、HTMLタグ、Mermaid図表、操作方法の説明
- **操作**: ESCキー、背景クリック、×ボタンで閉じる

#### 9. キーボードショートカット
よく使う操作をキーボードで実行できます。
- **Ctrl + S**: 手動保存
- **Tab**: インデント（4つのスペース）挿入
- **Shift + Tab**: 逆インデント（行頭スペース削除）
- **ESC**: モーダルを閉じる

### ドキュメントテンプレート例

#### 技術ドキュメント
```markdown
# プロジェクト名

## 概要
このプロジェクトの目的と概要を記載します。

## 技術スタック
- **フロントエンド**: React, TypeScript
- **バックエンド**: Node.js, Express
- **データベース**: PostgreSQL
- **インフラ**: AWS, Docker

## セットアップ
1. リポジトリをクローン
2. 依存関係をインストール
3. 環境変数を設定
4. 開発サーバーを起動

## API仕様
| エンドポイント | メソッド | 説明 |
|-------------|---------|-----|
| `/api/users` | GET | ユーザー一覧取得 |
| `/api/users` | POST | ユーザー作成 |
| `/api/users/:id` | PUT | ユーザー更新 |
```

#### 企画書・提案書
```markdown
# 企画書タイトル

## 背景・課題
現在の状況と解決すべき課題を記載します。

## 提案内容
### 解決策
具体的な解決策を記載します。

### 期待される効果
- 効率化による時間短縮
- コスト削減
- 品質向上

## 実施計画
@```mermaid
timeline
    title 実施スケジュール
    section フェーズ1：準備
        2024-04 : 要件定義
        2024-05 : 設計完了
    section フェーズ2：実装
        2024-06 : 開発開始
        2024-08 : テスト完了
        2024-09 : リリース
@```

## 予算・リソース
- 開発費用: 500万円
- 期間: 6ヶ月
- 人員: 5名
```

#### 議事録
```markdown
# 会議議事録

## 会議情報
- **日時**: 2024年3月15日 14:00-15:00
- **場所**: 第1会議室
- **参加者**: 田中、佐藤、山田
- **議題**: 新機能の仕様検討

## 討議内容
### 1. 新機能の概要
- 機能Aの実装について検討
- ユーザビリティの観点から議論

### 2. 技術的課題
- パフォーマンスの最適化が必要
- セキュリティ対策の強化

## 決定事項
- 機能Aの実装を来月から開始
- 技術調査を田中が担当

## 次回までのアクション
- [ ] 技術調査レポート作成（田中）
- [ ] UI設計案作成（佐藤）
- [ ] 工数見積もり（山田）
```

## システム要件

### 対応ブラウザ
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

### 必要な環境
- インターネット接続（CDNライブラリ使用）
- JavaScript有効
- LocalStorage対応

## 技術仕様

### アーキテクチャ
- **構成**: 単一HTMLファイル
- **JavaScript**: バニラJavaScript（ES6+）
- **CSS**: インライン CSS + CSS変数
- **ビルドツール**: 不要

### 外部依存関係
- **marked.js v12.0.0**: マークダウンパーサー
- **mermaid.js v10.6.1**: 図表レンダリング
- **Google Fonts**: フォント提供（Noto Sans JP, Inter）

### データ保存
- **場所**: ブラウザのLocalStorage
- **形式**: JSON
- **保存内容**: 
  - マークダウンコンテンツ
  - フォント設定
  - 詳細設定（フォントサイズ、行間、余白）
- **容量**: 約5-10MB（ブラウザ制限内）

### 設定データ形式
```json
{
  "h1FontSize": 24,
  "h2FontSize": 19,
  "h3FontSize": 18,
  "lineHeight": 1.7,
  "h2MarginTop": 0.5,
  "h2MarginBottom": 0.1,
  "liMarginBottom": 0.1
}
```

## トラブルシューティング

### よくある問題と解決方法

#### 1. 自動保存されない
**原因**: プライベート/シークレットモード
**解決**: 通常モードで使用

#### 2. 図表が表示されない
**原因**: インターネット接続不良
**解決**: 接続を確認してページを再読み込み

#### 3. フォントが表示されない
**原因**: Google Fontsの読み込み失敗
**解決**: システムフォントに切り替え

#### 4. 印刷時にレイアウトが崩れる
**原因**: ブラウザの印刷設定
**解決**: 印刷設定で「背景のグラフィック」を有効化

#### 5. 設定が保存されない
**原因**: LocalStorageの容量不足またはブラウザ制限
**解決**: ブラウザのデータを削除するか、通常モードで使用

#### 6. タブキーが効かない
**原因**: ブラウザのタブナビゲーション設定
**解決**: エディター内でクリックしてフォーカスを当ててから使用

## 更新履歴

- **v1.0.0**: 初回リリース
  - 📝 マークダウンエディター
  - 💾 自動保存機能
  - 📁 マルチファイル機能
  - 🖨️ 印刷・PDF出力
  - 📊 Mermaid図表サポート
  - 📄 改ページ機能
  - 🎨 フォント選択機能
  - ⚙️ 詳細設定機能
  - 📋 タブインデント機能
  - ❓ 使い方ガイド
  - 📱 完全レスポンシブデザイン
  - 🔒 セキュリティ対策

---

**作成者**: KSS Lab  
**最終更新**: 2025年7月